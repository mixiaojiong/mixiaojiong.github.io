+++
title = "常用系统指标及计算方法"
date = "2015-12-22T22:50:05+08:00"
tags = ["other"]

+++

### QPS:
每秒查询率(Query Per Second) ,每秒的响应请求数，是一台服务器每秒能够相应的查询次数，是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准，也即是最大吞吐能力。
QPS = req/sec = 请求数/秒
QPS统计方式 [一般使用 http_load 进行统计]
QPS = 总请求数 / ( 进程总数 \* 请求时间 )
QPS: 单个进程每秒请求服务器的成功次数
峰值QPS:
原理：每天80%的访问集中在20%的时间里，这20%时间叫做峰值时间
公式：( 总PV数 \* 80% ) / ( 每天秒数 \* 20% ) = 峰值时间每秒请求数(QPS)
### PV:
访问量即Page View, 即页面浏览量或点击量，用户每次刷新即被计算一次
单台服务器每天PV计算
公式1：每天总PV = QPS \* 3600 \* 6
公式2：每天总PV = QPS \* 3600 \* 8
服务器数量：
机器：峰值时间每秒QPS / 单台机器的QPS = 需要的机器
机器：ceil( 每天总PV / 单台服务器每天总PV )

例子：
每天300w PV 的在单台机器上，这台机器需要多少QPS？
答：( 3000000 \* 0.8 ) / (86400 \* 0.2 ) = 139 (QPS)
如果一台机器的QPS是58，需要几台机器来支持？
答：139 / 58 = 3

### 并发数：
并发用户数是指系统可以同时承载的正常使用系统功能的用户的数量。
系统同时处理的request/事务数
### 吐吞量：
吞吐量是指系统在单位时间内处理请求的数量
### 响应时间（RT):
响应时间是指系统对请求作出响应的时间
响应时间：  一般取平均响应时间
QPS（TPS）= 并发数/平均响应时间
### TPS
TPS是TransactionsPerSecond的缩写，也就是事务数/秒。它是软件测试结果的测量单位。一个事务是指一个客户机向服务器发送请求然后服务器做出反应的过程。客户机在发送请求时开始计时，收到服务器响应后结束计时，以此来计算使用的时间和完成的事务个数，最终利用这些信息来估计得分。客户机使用加权协函数平均方法来计算客户机的得分，测试软件就是利用客户机的这些信息使用加权协函数平均方法来计算服务器端的整体TPS得分。
### UV:
独立访客即Unique Visitor,访问您网站的一台电脑客户端为一个访客。00:00-24:00内相同的客户端只被计算一次
